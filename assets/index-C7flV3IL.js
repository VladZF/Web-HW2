(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const g=document.querySelector("#pokemon-grid"),v=document.querySelector("#loading-list"),p=document.querySelector("#theme-toggle-button"),c=document.querySelector("#pokemon-modal"),d=c.querySelector("#modal-pokemon-details"),M=c.querySelectorAll("[data-close-modal]"),y=document.body,S="https://pokeapi.co/api/v2/",T=500,C="/public/question-mark.svg";let l=!1;function m(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}async function L(t){try{const e=await fetch(t);if(!e.ok){const o=await e.text();throw console.error(`HTTP error! Status: ${e.status}, Body: ${o}`),new Error(`Network response was not ok: ${e.statusText} (status: ${e.status})`)}return await e.json()}catch(e){return console.error(`Fetch error for ${t}:`,e),null}}function P(){y.style.overflow="hidden",c.classList.add("active"),c.setAttribute("aria-hidden","false"),d.addEventListener("transitionend",()=>{var t;(t=c.querySelector(".modal-close-btn"))==null||t.focus()},{once:!0})}function w(){y.style.overflow="",c.classList.remove("active"),c.setAttribute("aria-hidden","true"),d.addEventListener("transitionend",E,{once:!0})}function E(){d.innerHTML=`
        <div class="loading-indicator modal-loading">
            <div class="spinner"></div>
            <span>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ç–∞–ª–µ–π...</span>
        </div>`,d.removeEventListener("transitionend",E)}function b(t){g.innerHTML=`<p class="error-message">${t}</p>`;const e=g.querySelector(".error-message");e&&(e.style.gridColumn="1 / -1",e.style.textAlign="center",e.style.padding="2rem",e.style.color="var(--accent-color)")}function q(t){d.innerHTML=`<p class="error-message">${t}</p>`;const e=d.querySelector(".error-message");e&&(e.style.padding="2rem",e.style.color="var(--accent-color)")}function x(){requestAnimationFrame(()=>{d.querySelectorAll(".stat-bar-inner").forEach(e=>{const o=e.getAttribute("data-stat-value");if(o){const r=Math.min(parseInt(o,10)/200*100,100);e.style.width=`${r}%`}})})}function O(t){if(!t){q("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ–∫–µ–º–æ–Ω–∞.");return}const{name:e,sprites:o,types:i,height:r,weight:n,stats:a}=t,s=(o==null?void 0:o.front_default)||C,f=(i==null?void 0:i.map(h=>m(h.type.name)).join(", "))||"–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω",u=(a==null?void 0:a.map(h=>{const A=m(h.stat.name.replace("-"," ")),k=h.base_stat;return`
            <li>
                <span class="stat-name">${A}</span>
                <div class="stat-bar">
                    <div class="stat-bar-inner" data-stat-value="${k}" style="width: 0%;"></div>
                </div>
                <strong class="stat-value">${k}</strong>
            </li>
        `}).join(""))||"<li>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</li>";d.innerHTML=`
        <h3>${m(e)}</h3>
        <img src="${s}" alt="${m(e)}" width="140" height="140" loading="lazy">

        <div class="pokemon-meta">
            <p><strong>–¢–∏–ø(—ã):</strong> ${f}</p>
            <p><strong>–†–æ—Å—Ç:</strong> ${r?r/10+" –º":"–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω"}</p>
            <p><strong>–í–µ—Å:</strong> ${n?n/10+" –∫–≥":"–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω"}</p>
        </div>

        <h4>–ë–∞–∑–æ–≤—ã–µ —Å—Ç–∞—Ç—ã:</h4>
        <ul class="stats-list">${u}</ul>
    `,x()}function D(t,e){var a;const o=document.createElement("div");o.classList.add("pokemon-tile"),o.dataset.url=t.url,o.setAttribute("role","button"),o.setAttribute("tabindex","0");const i=m(t.name),r=(a=e==null?void 0:e.sprites)==null?void 0:a.front_default;if(r){const s=document.createElement("img");s.src=r,s.alt=i,s.loading="lazy",s.onerror=f=>{console.warn(`Failed to load sprite for ${i}: ${r}`);const u=document.createElement("div");u.classList.add("placeholder-sprite"),u.textContent="?",u.setAttribute("aria-label","–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"),f.target.parentNode===o&&o.replaceChild(u,f.target)},o.appendChild(s)}else{const s=document.createElement("div");s.classList.add("placeholder-sprite"),s.textContent="?",s.setAttribute("aria-label","–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"),o.appendChild(s)}const n=document.createElement("span");return n.textContent=i,o.appendChild(n),o.addEventListener("click",$),o.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),$(s))}),o}async function I(){v.style.display="flex",g.innerHTML="";const t=`${S}pokemon?limit=${T}&offset=0`,e=await L(t);if(!e||!e.results){v.style.display="none",b("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫–µ–º–æ–Ω–æ–≤. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.");return}const o=e.results.map(n=>L(n.url).then(a=>({name:n.name,url:n.url,sprites:a==null?void 0:a.sprites}))),i=await Promise.allSettled(o);v.style.display="none";let r=!1;i.forEach(n=>{if(n.status==="fulfilled"&&n.value){const a=D(n.value,n.value);g.appendChild(a),r=!0}else console.error(`Failed to process data for a Pok√©mon: ${n.reason||"Unknown error"}`)}),!r&&e.results.length>0&&b("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–∫–µ–º–æ–Ω–æ–≤.")}async function $(t){const e=t.currentTarget,o=e.dataset.url;if(!o){console.error("No pokemon URL found on the tile:",e);return}E(),P();const i=await L(o);O(i)}function N(){l=!l,y.classList.toggle("dark-theme",l),localStorage.setItem("theme",l?"dark":"light"),p.textContent=l?"üåô":"‚òÄÔ∏è",p.setAttribute("aria-label",l?"–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É":"–í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É")}function U(){const t=localStorage.getItem("theme"),e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;t==="dark"||!t&&e?l=!0:l=!1,y.classList.toggle("dark-theme",l),p.textContent=l?"üåô":"‚òÄÔ∏è",p.setAttribute("aria-label",l?"–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É":"–í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É")}function _(){p.addEventListener("click",N),M.forEach(t=>{t.addEventListener("click",w)}),window.addEventListener("keydown",t=>{t.key==="Escape"&&c.classList.contains("active")&&w()}),U(),I()}_();
